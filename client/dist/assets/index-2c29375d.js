import{u as g,b as i,p as o,n as r,o as m,S as p,c as t,A as f,a as s,d as l,e as P,l as v,j as w,L as A,m as S,P as _,t as a}from"./index-694452cd.js";const k=a("<h2>Reset Password</h2>"),E=a("<p>Don't have an account? </p>"),$=a("<p>Your email has been verified!</p>"),y=a("<span>Loading...</span>");function N(){const c=g(),[n,u]=i(""),[h,d]=i(!1);return o(()=>{let e=new URLSearchParams(window.location.search).get("token");u(e)}),o(()=>{if(!n())return r.error("Invalid token!");m.post(`${p}/auth/verify-email`,{token:n()}).then(e=>{if(e.status!==200)return r.error("Something went wrong! Please try again later.");r.success("Email verified!"),d(!0),c("/auth/login")}).catch(e=>r.error("Something went wrong! Please try again later."))}),t(_,{get children(){return[t(f,{get children(){return k.cloneNode(!0)}}),s(()=>s(()=>!!h())()?t(l,{get children(){return t(P,{get children(){return $.cloneNode(!0)}})}}):t(l,{get children(){return y.cloneNode(!0)}})),t(v,{get children(){const e=E.cloneNode(!0);return e.firstChild,w(e,t(A,{get children(){return t(S,{href:"/auth/register",children:"Sign up"})}}),null),e}})]}})}export{N as default};
